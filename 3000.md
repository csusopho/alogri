[Problem: 3000. 对角线最长的矩形的面积](https://leetcode.cn/problems/maximum-area-of-longest-diagonal-rectangle/description/)

### 方法：模拟

注意：必须 **优先** 满足对角线最长。

- 对角线长为 $8$，面积为 $4$；
- 对角线长为 $5$，面积为 $8$。

答案是谁？没错，是 $4$，必须先让对角线最长，然后最长的里面挑面积最大。

假设长宽为 $l,w$，则对角线长为 $d = \sqrt{l^2 + w^2}$。我们不关心具体的对角线到底数值多少，而是用它比较，所以完全可以将 $d$ **平方**，比较 $d^2$ 的值。

代码如下，已附加注释：

```Python
# python
class Solution:
    def areaOfMaxDiagonal(self, dimensions: List[List[int]]) -> int:
        ans = 0
        max_diagonal = 0
        for arr in dimensions:
            diagonal = arr[0] ** 2 + arr[1] ** 2  # 计算对角线长度
            area = arr[0] * arr[1]  # 计算面积
            if (max_diagonal < diagonal) or (max_diagonal == diagonal and ans < area):
                max_diagonal = diagonal
                ans = area
        return ans
```

```Java
// java
class Solution {
    public int areaOfMaxDiagonal(int[][] dimensions) {
        int ans = 0;
        int maxDiagonal = 0;
        
        for (int[] arr : dimensions) {
            int length = arr[0];
            int width = arr[1];
            
            int diagonal = length * length + width * width; // 计算对角线长度（平方值，避免浮点数）
            int area = length * width; // 计算面积
            
            // 如果对角线更长，或者对角线相同但面积更大，则更新
            if (maxDiagonal < diagonal || (maxDiagonal == diagonal && ans < area)) {
                maxDiagonal = diagonal;
                ans = area;
            }
        }
        return ans;
    }
}
```

- 时间复杂度： $O(n)$，其中 $n$ 为数组 $dimensions$ 的行数
- 空间复杂度： $O(1)$，仅使用常数个额外变量

---

### 一行流

$\textbf{仅供整活使用！一般不推荐}$，了解语法即可。

```Python
# python
class Solution:
    def areaOfMaxDiagonal(self, dimensions: List[List[int]]) -> int:
        return max((x * x + y * y, x * y) for x, y in dimensions)[1]
```

```Java
// java
class Solution {
    public int areaOfMaxDiagonal(int[][] dimensions) {
        return Arrays.stream(dimensions)
            .max(Comparator.<int[]>comparingInt(a -> a[0] * a[0] + a[1] * a[1])
                .thenComparingInt(a -> a[0] * a[1]))
            .map(a -> a[0] * a[1])
            .get();
    }
}
```

- 时间复杂度： $O(n)$
- 空间复杂度： $O(1)$，生成器表达式 $or$ 惰性求值，逐个生成与比较

如果本篇题解你觉得写得不错，欢迎点个赞让更多人看见~

> 题解已发布力扣平台 [我的题解](https://leetcode.cn/problems/maximum-area-of-longest-diagonal-rectangle/solutions/3763984/mo-ni-yi-ci-bian-li-yi-xing-liu-you-ya-x-ky21/)
