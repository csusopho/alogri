[Problem: 2011. 执行操作后的变量值](https://leetcode.cn/problems/final-value-of-variable-after-performing-operations/description/)

### 方法：一行流

题目非常简单，只有 $+1$ 和 $-1$ 的操作，所以这里整几种 “非直接” 的写法。

**思路一**：规范化，使用哈希 $Map$，将不同操作统一为数字的加减。

```Python
# python
class Solution:
    def finalValueAfterOperations(self, operations: List[str]) -> int:
        OPS = {"X++" : 1, "++X": 1, "--X": -1, "X--": -1}
        x = 0
        for op in operations:
            x += OPS[op]
        return x
```

```Java
// java
class Solution {
    public int finalValueAfterOperations(String[] operations) {
        Map<String, Integer> opsMap = Map.of(
            "X++", 1,
            "++X", 1,
            "--X", -1,
            "X--", -1
        );

        int x = 0;
        // 使用 for-each 循环
        for (String op : operations) {
            x += opsMap.get(op);
        }
        return x;
    }
}
```

- 时间复杂度： $O(n)$，其中 $n$ 是数组 $operations$ 的长度
- 空间复杂度： $O(1)$，仅使用常数个额外变量

---

### 一行流

**思路二**：使用 $in()$ 函数判断 $+/-$ 是否存在于串中，并采用一行写法。

```Python
# python
class Solution:
    def finalValueAfterOperations(self, operations: List[str]) -> int:
        return sum(1 if '+' in op else -1 for op in operations)
```

```Java
// java
class Solution {
    public int finalValueAfterOperations(String[] operations) {
        // stream() 将数组转换为流
        // mapToInt() 将每个字符串元素映射为一个整数
        // .sum() 对所有整数求和
        return Arrays.stream(operations).mapToInt(op -> op.contains("+") ? 1 : -1).sum();
    }
}
```

- 时间复杂度： $O(n)$
- 空间复杂度： $O(1)$

---

### 优化

**思路三**：总共三个字符，而 `++` 与 `--` 的差别只在中间这个字符，只需判断这一个。

```Python
# python
class Solution:
    def finalValueAfterOperations(self, operations: List[str]) -> int:
        return sum(1 if op[1] == '+' else -1 for op in operations)
```

```Java
// java
class Solution {
    public int finalValueAfterOperations(String[] operations) {
        return Arrays.stream(operations).mapToInt(op -> op.charAt(1) == '+' ? 1 : -1).sum();
    }
}
```

- 时间复杂度： $O(n)$
- 空间复杂度： $O(1)$

如果本篇题解你觉得写得不错，欢迎点个赞让更多人看见~

> 题解已发布力扣平台 [我的题解](https://leetcode.cn/problems/final-value-of-variable-after-performing-operations/solutions/3810695/mo-ni-ha-xi-gui-fan-hua-inpan-duan-jian-6wirh/)
