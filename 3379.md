[Problem: 3379. 转换数组](https://leetcode.cn/problems/transformed-array/description/)

### 模拟

在循环数组中移动，记得使用 **取模运算** `%` 这种神器，能大幅缩短代码。

如果我们直接模拟，写出下面代码：

```Python
# python
class Solution:
    def constructTransformedArray(self, nums: List[int]) -> List[int]:
        n = len(nums)
        ans = [0] * n

        for i in range(n):
            if nums[i] == 0:
                ans[i] = nums[i]
            elif nums[i] > 0:
                ans[i] = nums[(i + nums[i]) % n]
            else:
                ans[i] = nums[(-(-nums[i] - i)) % n]
        
        return ans
```

```Java
// java
class Solution {
    public int[] constructTransformedArray(int[] nums) {
        int n = nums.length;
        int[] ans = new int[n];

        for (int i = 0; i < n; i++) {
            if (nums[i] == 0) {
                ans[i] = nums[i];
            } else if (nums[i] > 0) {
                ans[i] = nums[(i + nums[i]) % n];
            } else {
                // 先取模，结果是负数则加上 n
                int idx = (i + nums[i]) % n;
                if (idx < 0) {
                    idx += n;
                }
                ans[i] = nums[idx];
            }
        }
        
        return ans;
    }
}
```

上面这种写法稍微麻烦，可以再加一个 `%` 进行整合，代码如下：

```Python
# python
class Solution:
    def constructTransformedArray(self, nums: List[int]) -> List[int]:
        n = len(nums)
        ans = []

        for i in range(n):
            step = nums[i]
            idx = (i + step) % n
            
            # 根据索引找值
            val = nums[idx]
            ans.append(val)
            
        return ans
```

```Java
// java
class Solution {
    public int[] constructTransformedArray(int[] nums) {
        int n = nums.length;
        int[] ans = new int[n];

        for (int i = 0; i < n; i++) {
            int step = nums[i];
            int idx = ((i + step) % n + n) % n;
            
            // 根据索引找值
            int val = nums[idx];
            ans[i] = val;
        }
        
        return ans;
    }
}
```

- 时间复杂度： $O(n)$，其中 $n$ 为数组 $nums$ 的长度
- 空间复杂度： $O(1)$，仅使用常数个额外变量

如果本篇题解你觉得写得不错，欢迎点个赞让更多人看见~

> 题解已发布力扣平台 [我的题解](https://leetcode.cn/problems/transformed-array/solutions/3896565/mo-ni-shi-yong-yi-ci-liang-ci-qu-mo-jian-n3cs/)
